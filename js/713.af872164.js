"use strict";(self["webpackChunkcategories_test"]=self["webpackChunkcategories_test"]||[]).push([[713],{2713:function(e,a,s){s.r(a),s.d(a,{default:function(){return F}});var i=s(3396),n=s(1020),l=s(4870);const d=(0,n.Q_)("useTags",(()=>{const e=(0,l.iH)([]),a=(0,l.iH)([]),s=async()=>{try{const a=await i();e.value=a}catch(a){console.log(a)}},i=()=>new Promise(((e,a)=>{const s=[{id:1,name:"Товары",categories:[{id:1,name:"Электроника",subcategories:[{id:1,name:"Телефоны и смарт-часы",tags:[{id:1,name:"Смартфоны",aliases:["Телефон","mobile","iphone"]},{id:2,name:"Смарт-часы и фитнес-браслеты",aliases:[]},{id:3,name:"SIM-карты",aliases:[]},{id:4,name:"Мобильные телефоны",aliases:[]}]},{id:2,name:"Моноблоки и системные блоки",tags:[{id:5,name:"Системные блоки",aliases:[]},{id:6,name:"Моноблоки",aliases:[]}]},{id:3,name:"Офисная техника",tags:[{id:7,name:"Принтеры",aliases:[]},{id:8,name:"МФУ",aliases:[]},{id:9,name:"Сканеры",aliases:[]}]},{id:4,name:"Телевизоры и видеотехника",tags:[{id:10,name:"Телевизоры",aliases:[]},{id:11,name:"Кронштейны",aliases:[]}]}]},{id:2,name:"Одежда",subcategories:[{id:5,name:"Женщинам",tags:[{id:12,name:"Брюки, бриджи и капри",aliases:[]},{id:13,name:"Верхняя одежда",aliases:[]}]},{id:6,name:"Мужчинам",tags:[{id:14,name:"Брюки",aliases:[]},{id:15,name:"Верхняя одежда",aliases:[]}]},{id:7,name:"Детям",tags:[{id:16,name:"Девочкам",aliases:[]},{id:17,name:"Мальчикам",aliases:[]},{id:18,name:"Новорожденным",aliases:[]}]},{id:8,name:"Спецодежда",tags:[{id:19,name:"Медицинская одежда",aliases:[]},{id:20,name:"Сигнальная одежда",aliases:[]}]}]},{id:3,name:"Обувь",subcategories:[{id:9,name:"Мужчинам",tags:[{id:21,name:"Домашняя обувь",aliases:[]},{id:22,name:"Ботинки и полуботинки",aliases:[]}]},{id:10,name:"Женщинам",tags:[{id:23,name:"Балетки",aliases:[]},{id:24,name:"Босоножки",aliases:[]}]},{id:11,name:"Детям",tags:[{id:25,name:"Девочкам",aliases:[]},{id:26,name:"Мальчикам",aliases:[]}]},{id:12,name:"Уход и аксессуары",tags:[{id:27,name:"Чехлы на обувь",aliases:[]},{id:28,name:"Губки",aliases:[]}]}]},{id:4,name:"Дом и Сад",subcategories:[{id:13,name:"Посуда",tags:[{id:29,name:"Столовая посуда",aliases:[]},{id:30,name:"Столовые приборы",aliases:[]},{id:31,name:"Детская посуда",aliases:[]}]},{id:14,name:"Текстиль",tags:[{id:32,name:"Шторы и карнизы",aliases:[]},{id:33,name:"Постельное белье",aliases:[]},{id:34,name:"Одеяла",aliases:[]}]},{id:15,name:"Дача и сад",tags:[{id:35,name:"Отдых и пикник",aliases:[]},{id:36,name:"Садовая мебель",aliases:[]},{id:37,name:"Садовый инструмент",aliases:[]}]},{id:16,name:"Товары для бани и сауны",tags:[{id:38,name:"Веники для бань",aliases:[]},{id:39,name:"Банный текстиль",aliases:[]},{id:40,name:"Ведра и кадки",aliases:[]}]}]}]},{id:2,name:"Сырье",categories:[{id:5,name:"Металлы и сплавы",subcategories:[{id:17,name:"Черные металлы и сплавы",tags:[{id:41,name:"Сталь",aliases:[]},{id:42,name:"Чугун",aliases:[]}]},{id:18,name:"Цветные металлы и сплавы",tags:[{id:43,name:"Алюминий",aliases:[]},{id:44,name:"Олово",aliases:[]},{id:45,name:"Медь",aliases:[]}]}]},{id:6,name:"Резина",subcategories:[{id:19,name:"Резины общего назначения",tags:[{id:46,name:"Натуральный каучук",aliases:[]},{id:47,name:"Синтетический каучук бутадиеновый",aliases:[]},{id:48,name:"Синтетический каучук изопреновый",aliases:[]}]},{id:20,name:"Резины специального назначения",tags:[{id:49,name:"Наирит",aliases:[]},{id:50,name:"Бутадиеннитрильный каучук",aliases:[]},{id:51,name:"Тиокол",aliases:[]}]}]}]},{id:3,name:"Технологии",categories:[{id:7,name:"3D печать",subcategories:[{id:21,name:"3D печать",tags:[{id:52,name:"Прототипирование методом наплавления",aliases:["FDM"]},{id:53,name:"Селективное лазерное спекание",aliases:["SLS"]},{id:54,name:"Лазерная стереолитография",aliases:["SLA"]},{id:55,name:"Электронно-лучевая плавка",aliases:["EBM"]},{id:56,name:"Производство моделей с использованием ламинировани",aliases:["LOM"]},{id:57,name:"Многоструйное моделирование",aliases:["MJM"]}]}]}]}];setTimeout((()=>{100*Math.random()<7?a({error:"Ooops..."}):e(s)}),Math.floor(2e3*Math.random()))})),n=a=>d(e.value,a);function d(e,a){let s=[];for(const i of e)i.categories&&(s=s.concat(d(i.categories,a))),i.subcategories&&(s=s.concat(d(i.subcategories,a))),i.tags&&(s=s.concat(d(i.tags,a))),i.aliases&&(s=s.concat(i),s=s.filter((e=>!!e.name.toUpperCase().includes(a.toUpperCase())||!!e.aliases.find((e=>e.toUpperCase().includes(a.toUpperCase()))))));return s}const t=e=>{console.log(e),a.value=[...a.value,...e]};return{products:e,selectedTag:a,uploadProducts:s,getTags:n,addTag:t}}));var t,o=s(7139);function m(e,a,s,n,l,d){return(0,i.wg)(),(0,i.iD)("button",{class:(0,o.C_)(["btn",[s.theme]]),style:(0,o.j5)(`border-color: ${s.colorBorder&&s.theme.includes("outline")?s.colorBorder:"none"}`)},[(0,i.WI)(e.$slots,"default",{},void 0,!0)],6)}(function(e){e["PRIMARY"]="primary",e["SECONDARY"]="secondary",e["OUTLINE"]="outline",e["ICON"]="icon"})(t||(t={}));var u={props:{theme:{type:Array,default:()=>[t.PRIMARY]},colorBorder:{type:String}}},c=s(89);const r=(0,c.Z)(u,[["render",m],["__scopeId","data-v-25af51e6"]]);var g=r,p=(s(7658),s(9242));const v={class:"inputText"},w={for:"inputText"};var _=(0,i.aZ)({__name:"inputText",props:{modalValue:{},placeholder:{}},emits:["update:modalValue"],setup(e,{emit:a}){const s=e,{modalValue:n}=(0,l.BK)(s),d=(0,i.Fl)({get(){return n.value},set(e){a("update:modalValue",e)}});return(e,a)=>((0,i.wg)(),(0,i.iD)("div",v,[(0,i.wy)((0,i._)("input",{type:"text",id:"inputText","onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),placeholder:" "},null,512),[[p.nr,d.value]]),(0,i._)("label",w,(0,o.zw)(e.placeholder),1)]))}});const h=(0,c.Z)(_,[["__scopeId","data-v-227bba3d"]]);var f=h;const W=e=>((0,i.dD)("data-v-419aabd1"),e=e(),(0,i.Cn)(),e),k={class:"tag"},y={class:"tag-text"},C=W((()=>(0,i._)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,i._)("path",{d:"M1 1L11 11M1 11L11 1",stroke:"#16171B","stroke-linecap":"round"})],-1)));var b=(0,i.aZ)({__name:"tagItem",props:{viewCloseButton:{type:Boolean,default:!0}},emits:["deleteTag"],setup(e,{emit:a}){const s=e;return(e,n)=>((0,i.wg)(),(0,i.iD)("div",k,[(0,i._)("div",y,[(0,i.WI)(e.$slots,"default")]),(0,i.WI)(e.$slots,"closeButton",{},(()=>[s.viewCloseButton?((0,i.wg)(),(0,i.j4)(g,{key:0,theme:[(0,l.SU)(t).ICON],class:"tag-close",onClick:n[0]||(n[0]=e=>a("deleteTag"))},{default:(0,i.w5)((()=>[C])),_:1},8,["theme"])):(0,i.kq)("",!0)]))]))}});const M=(0,c.Z)(b,[["__scopeId","data-v-419aabd1"]]);var I=M;const D=e=>((0,i.dD)("data-v-77d49178"),e=e(),(0,i.Cn)(),e),T={class:"myModalWindow-wrapper"},U={class:"myModalWindow-header"},O=D((()=>(0,i._)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,i._)("path",{d:"M1 1L11 11M1 11L11 1",stroke:"#16171B","stroke-linecap":"round"})],-1))),B={class:"myModalWindow-body"},x={class:"myModalWindow-footer"};var S=(0,i.aZ)({__name:"myModalWindow",emits:["closeWindow"],setup(e,{emit:a}){const s=(0,l.iH)();return(0,i.bv)((()=>{s.value?.addEventListener("click",(e=>{const i=s.value?.querySelector(".myModalWindow-wrapper");e.composedPath().includes(i)||a("closeWindow")}))})),(e,n)=>((0,i.wg)(),(0,i.iD)("div",{class:"myModalWindow",ref_key:"myModalWindow",ref:s},[(0,i._)("div",T,[(0,i._)("div",U,[(0,i.WI)(e.$slots,"header"),(0,i.Wm)(g,{theme:[(0,l.SU)(t).ICON],class:"myModalWindow-close",onClick:n[0]||(n[0]=e=>a("closeWindow"))},{default:(0,i.w5)((()=>[O])),_:1},8,["theme"])]),(0,i._)("div",B,[(0,i.WI)(e.$slots,"default")]),(0,i._)("div",x,[(0,i.WI)(e.$slots,"footer")])])],512))}});const H=(0,c.Z)(S,[["__scopeId","data-v-77d49178"]]);var Z=H;const L=e=>((0,i.dD)("data-v-ef55f978"),e=e(),(0,i.Cn)(),e),P=L((()=>(0,i._)("h5",{class:"modalWindow__title"},"Добавление тегов",-1))),Y={class:"modalWindow__text"},A={class:"modalWindow__content"},R={class:"modalWindow__listTags"},V={key:0,class:"modalWindow__textNotFound"},N={key:0,class:"modalWindow__listSelectedTags"};var $=(0,i.aZ)({__name:"modalAddTags",props:{isOpenWindow:{type:Boolean}},emits:["update:isOpenWindow"],setup(e,{emit:a}){const s=(0,l.iH)(20),n=(0,l.iH)(""),m=(0,l.iH)([]),u=(0,l.iH)([]),c=d(),r=()=>{c.addTag(u.value),a("update:isOpenWindow")},p=()=>{u.value=[],n.value="",a("update:isOpenWindow")},v=e=>{if(u.value.length===s.value)return;u.value.push(e);const a=m.value.findIndex((a=>a===e));-1!==a&&m.value.splice(a,1)},w=e=>{m.value.push(e),m.value=m.value.sort(((e,a)=>e.id>a.id?1:-1));const a=u.value.findIndex((a=>a===e));-1!==a&&u.value.splice(a,1)};return(0,i.YP)(n,(e=>{m.value=""!==e?c.getTags(e):[]})),(e,d)=>((0,i.wg)(),(0,i.j4)(Z,{class:(0,o.C_)(["modalWindow",[e.isOpenWindow?"open":""]]),onCloseWindow:d[3]||(d[3]=e=>a("update:isOpenWindow"))},{header:(0,i.w5)((()=>[P,(0,i._)("div",Y,[(0,i.Uk)(" Вы можете добавить ещё "),(0,i._)("strong",null,(0,o.zw)(s.value-u.value.length<0?0:s.value-u.value.length),1)])])),default:(0,i.w5)((()=>[(0,i._)("div",A,[(0,i.Wm)(f,{modalValue:n.value,"onUpdate:modalValue":d[0]||(d[0]=e=>n.value=e),placeholder:"Название тега"},null,8,["modalValue"]),(0,i._)("div",R,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(m.value,(e=>((0,i.wg)(),(0,i.j4)(I,{key:e.id,"view-close-button":!1,onClick:a=>v(e)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.name),1)])),_:2},1032,["onClick"])))),128)),""!==n.value&&0===m.value.length?((0,i.wg)(),(0,i.iD)("p",V," По запросу ничего не найдено ")):(0,i.kq)("",!0)])]),u.value.length>0?((0,i.wg)(),(0,i.iD)("div",N,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(u.value,(e=>((0,i.wg)(),(0,i.j4)(I,{key:"selected"+e.name,onDeleteTag:a=>w(e)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.name),1)])),_:2},1032,["onDeleteTag"])))),128))])):(0,i.kq)("",!0)])),footer:(0,i.w5)((()=>[(0,i.Wm)(g,{theme:[(0,l.SU)(t).PRIMARY],colorBorder:"red",class:"btnSave",onClick:d[1]||(d[1]=e=>r())},{default:(0,i.w5)((()=>[(0,i.Uk)(" Сохранить ")])),_:1},8,["theme"]),(0,i.Wm)(g,{theme:[(0,l.SU)(t).SECONDARY],onClick:d[2]||(d[2]=e=>p())},{default:(0,i.w5)((()=>[(0,i.Uk)(" Отмена ")])),_:1},8,["theme"])])),_:1},8,["class"]))}});const j=(0,c.Z)($,[["__scopeId","data-v-ef55f978"]]);var E=j,q=(0,i.aZ)({__name:"HomePage",setup(e){const a=(0,l.iH)(!1),s=d();return(0,i.bv)((()=>{s.uploadProducts()})),(e,s)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(E,{isOpenWindow:a.value,"onUpdate:isOpenWindow":s[0]||(s[0]=e=>a.value=!1)},null,8,["isOpenWindow"]),(0,i.Wm)(g,{onClick:s[1]||(s[1]=e=>a.value=!0)},{default:(0,i.w5)((()=>[(0,i.Uk)("Открыть форму")])),_:1})],64))}});const z=q;var F=z}}]);
//# sourceMappingURL=713.af872164.js.map